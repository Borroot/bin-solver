#!/usr/bin/env bash

SAMPLES_PATH="samples"

[ -z "$1" ] && max_time="5" || max_time="$1"

RED='\033[0;31m'
NC='\033[0m' # No Color

BOLD=$(tput bold)
NORMAL=$(tput sgr0)

echo -e "${BOLD}INPUT\t\t\tOUTPUT\t\tANSWER${NORMAL}"
for input in $(ls ${SAMPLES_PATH}/*.in) 
do
	answer_file="$(echo "${input}" | sed -r 's/in/out/g')"
	answer="$(cat < ${answer_file})"

	output="$(timeout ${max_time} ./solver < ${input})"
	[[ "${output}" == "" ]] && output="${RED}TIME-OUT${NC}"

	echo -e "${input}\t${output}\t${answer}"
done
